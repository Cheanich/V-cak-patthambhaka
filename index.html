<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Vācakūpatthambhaka</title>
  <link rel="stylesheet" href="style.css"/>
</head>
<body>
  <header>
    <div class="logo"> វាចកូបត្ថម្ភកៈ (Vācakūpatthambhaka)</div>
    <nav>
      <button id="spinTab" class="active">កង់បង្វិលឈ្មោះ</button>
      <button id="groupTab">បែងចែកក្រុម</button>
    </nav>
  </header>

  <main>
    <!-- Spin Section -->
    <section id="spinSection">
      <div class="controls">
        <textarea id="nameInput" placeholder="សូមបញ្ជូលឈ្មោះត្រង់នេះ"></textarea>
        <div class="buttons">
          <button id="importNames">បញ្ជូលបញ្ជីឈ្មោះ</button>
          <button id="clearNames">លុបចោល</button>
        </div>
      </div>
      <div class="spin-content">
        <table id="namesTable">
          <thead>
            <tr>
              <th>ល.រ.</th>
              <th>ឈ្មោះសិស្ស</th>
              <th>មុខងារ</th>
            </tr>
          </thead>
          <tbody></tbody>
        </table>
        <div class="wheel-wrapper">
          <div class="wheel-container">
            <canvas id="wheelCanvas" width="300" height="300"></canvas>
            <button id="spinButton">បង្វិល</button>
            <div id="resultPanel" class="result-panel hidden">
              <div class="panel-content">
                <div class="panel-text"><span id="panelResult"></span></div>
                <div class="panel-buttons">
                  <button id="btnAdd">បន្ថែម</button>
                  <button id="btnRemove">ដកចេញ</button>
                  <button id="btnClose">បិទ</button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Group Work Section -->
    <section id="groupSection" class="hidden">
      <div class="controls">
        <textarea id="groupNameInput" placeholder="សូមបញ្ជូលឈ្មោះត្រង់នេះ"></textarea>
        <div class="buttons">
          <button id="importGroupNames">បញ្ជូលបញ្ជីឈ្មោះ</button>
          <button id="clearGroupNames">លុបចោល</button>
        </div>
        <div class="group-config">
          <label for="groupCount">ចំនួនក្រុម:</label>
          <input type="number" id="groupCount" min="1" placeholder="....."/>
          <button id="distributeGroups">បែងចែកក្រុម</button>
        </div>
      </div>
      <div id="groupsContainer" class="groups-grid"></div>
      <button id="saveImage">Save as image</button>
    </section>
  </main>

  <footer>&copy; 2025 គេហទំព័រ វាចកូបត្ថម្ភកៈ នេះបង្កើតឡើងដោយគ្រូបង្រៀននៃវិទ្យាល័យព្រែកលៀប  </footer>

  <!-- Audio elements -->
  <audio id="spinSound"   src="spin.mp3"   preload="auto"></audio>
  <audio id="resultSound" src="result.mp3" preload="auto"></audio>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
  <script src="script.js"></script>
</body>
</html>
